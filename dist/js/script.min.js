"use strict";function getResource(t){return new Promise((function(e,s){const n=new XMLHttpRequest;n.open("GET",t,!0),n.send(),n.addEventListener("readystatechange",(function(t){4==n.readyState&&(200==n.status?e(n.responseText):s(n.statusText))}))}))}const btnAll=document.querySelectorAll(".main .btn"),localStoreList=["1_btn","2_btn","3_btn","4_btn"],listClasses=["avail","avail","post","avail"];document.addEventListener("DOMContentLoaded",(function(){btnAll.forEach((function(t,e){if(localStorage.getItem(localStoreList[e]))t.setAttribute("class","btn btn_postponed");else switch(listClasses[e]){case"avail":t.classList.add("btn_available");break;case"post":t.classList.add("btn_postponed");break;case"bought":t.classList.add("btn_bought")}t.addEventListener("click",(function(){if("btn btn_available"===t.className){t.setAttribute("class","btn btn_loader");getResource("https://jsonplaceholder.typicode.com/posts/1").then((function(){localStorage.setItem(localStoreList[e],!0),t.setAttribute("class","btn btn_postponed")})).catch((function(){alert("Ошибка соединения, проверьте свою сеть"),t.setAttribute("class","btn btn_available")}))}}))}))}));